"use strict";var PBI=PBI||{};PBI.Login=function(){var e=ko.observable(""),n=ko.observable(""),o=ko.observable(!1),s=ko.observable(""),h=ko.observable(""),c=ko.observable(""),r=ko.observable(""),a=ko.observable(!1),t=ko.observable(""),u=ko.observable(null),i=ko.observable(!1),v=ko.observable(!1),l=ko.observable(""),f=ko.observable(null);l.subscribe(function(){f(null)});t.subscribe(function(){u(null)});var y=function(n,t){return PBI.toggleHideShowOnKeyboardShortcut(t)},p=function(n){PBI.antiForgeryToken=n.antiForgeryToken;nt()},w=function(){n(r());t("");i(!1)},b=function(){PBI.sendAjax({url:PBI.baseHref+"Login/Initialize",type:"GET"},p,w)},k=function(e){e.success?window.location.href=e.redirectURL:(e.isLockedBySecureNow?(o(!0),n(e.errorMessage),s(e.csrAccesibilityPhoneEmail),c(e.csrEmailAddress),h(e.csrPhoneNumbers)):e.usernameError||e.passwordError?(f(e.usernameError),u(e.passwordError)):n(e.errorMessage||r()),t(""),i(!1))},d=function(){n(r());t("");i(!1)},g=function(n){return encodeURIComponent(decodeURIComponent(n)).replace(/\~/g,"%7E").replace(/\!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\'/g,"%27").replace(/\-/g,"%2D").replace(/\_/g,"%5F").replace(/\./g,"%2E")},nt=function(){var i=new Date,r=null,n,u;typeof PBI.deviceFingerprint=="function"&&(r=PBI.deviceFingerprint());n={username:l(),password:t(),maskLoginInputs:a(),fingerprint:r,pluginCount:navigator.plugins.length,timezoneOffset:i.getTimezoneOffset(),timestampUtc:i.toUTCString()};e()&&(u=$("#"+e()).val(),n.deviceIdentifier=g(u));PBI.sendAjax({url:PBI.baseHref+"Login/Submit",type:"POST",data:n},k,d)},tt=function(){i(!0);n("");o(!1);s("");c("");h("");f(null);u(null);v(!1);b()};return{devicePrintDomId:e,error:n,isLockedBySecureNow:o,csrAccesibilityPhoneEmail:s,csrPhoneNumbers:h,csrEmailAddress:c,submit:tt,genericError:r,maskLoginInputs:a,password:t,passwordError:u,showProcessingIndicator:i,showPasswordResetSucceeded:v,toggleHideShowOnKeyboardShortcut:y,username:l,usernameError:f}}()